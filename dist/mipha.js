!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Mipha=e():t.Mipha=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){"use strict";function r(t){return"function"==typeof t}function i(t){return void 0===t||null===t}function s(t){return t.replace(o,function(t,e){return e.toUpperCase()})}Object.defineProperty(e,"__esModule",{value:!0}),e.isFunction=r,e.isEmpty=i,e.camelCase=s;var o=(e.noop=function(){},/-([a-z])/g)},function(t,e,n){"use strict";function r(t){return i(t)||s(t)}function i(t){return/^on-/.test(t)}function s(t){return/^mf-/.test(t)}function o(t){return t.slice(3).toLowerCase()}function u(t,e,n){i(e)?t.addEventListener(o(e),n,!1):s(e)&&(e=o(e),"class"===e?Object.keys(n).forEach(function(e){n[e]?t.classList.add(e):t.classList.remove(e)}):"style"===e?Object.keys(n).forEach(function(e){var r=(0,l.camelCase)(e);t.style[r]=n[e]}):"show"===e?t.style.display=!0==!!n?"":"none":"html"===e?t.innerHTML=n:"model"===e||(0,c.setProp)(t,e,n))}function a(t,e,n){i(e)&&t.removeEventListener(e,n,!1)}Object.defineProperty(e,"__esModule",{value:!0}),e.isCustomProp=r,e.isEventProp=i,e.isMfProp=s,e.setCustomProp=u,e.removeCustomProp=a;var l=n(0),c=n(2)},function(t,e,n){"use strict";function r(t,e,n){"className"===e?t.setAttribute("class",n):"boolean"==typeof n?s(t,e,n):t.setAttribute(e,n)}function i(t,e,n){"className"===e?t.removeAttribute("class"):"boolean"==typeof n?o(t,e):t.removeAttribute(e)}function s(t,e,n){n?(t.setAttribute(e,n),t[e]=!0):t[e]=!1}function o(t,e){t.removeAttribute(e),t[e]=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.setProp=r,e.removeProp=i,e.setBooleanProp=s,e.removeBooleanProp=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=i.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(e.template||"").trim();e.state=e.state||{},e.methods=e.methods||{},this.options=e,this._render=new a.default(n).parse(),this.oldVNode=null,this.vnode=null,this.isMounted=!1,s.LIFECYCLE_HOOKS.map(function(n){t[n]=e[n]&&(0,o.isFunction)(e[n])?e[n]:o.noop}),this._mount2this(e),this._init()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var s=n(5),o=n(0),u=n(6),a=r(u),l=n(8),c=r(l),f=n(9),h=r(f),d=i.prototype;d.setState=function(t){this.options.state=Object.assign({},this.options.state,t),this._mountState2this(this.options),this.vnode=this._render(this,c.default),this.isMounted&&this.$mount(this.$parent)},d.$mount=function(t){t=t||document.body,(0,h.default)(t,this.vnode,this.oldVNode),this.oldVNode=this.vnode,this.isMounted||(this.mounted(),this.isMounted=!0,this.$parent=t)},d._init=function(){this.vnode=this._render(this,c.default),this.created()},d._mount2this=function(t){this._mountState2this(t);for(var e in t.methods)this[e]=t.methods[e]},d._mountState2this=function(t){for(var e in t.state)this[e]=t.state[e]},d._destroy=function(){},i.extend=function(){}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.LIFECYCLE_HOOKS=["created","mounted","destroyed"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(7),o=function(t){return t&&t.__esModule?t:{default:t}}(s),u=n(1),a=/\(.*\)$/,l=function(){function t(e){r(this,t),this.tokens=new o.default(e).init(),this.current=0}return i(t,[{key:"parse",value:function(){for(var t=this.tokens,e="";this.current<t.length;)e+=this.walk();return e=e.replace(/\,[\s]*\}/g," }"),new Function("context","h","with(context) { return "+e+" }")}},{key:"walk",value:function(){var t=this.tokens,e=t[this.current];if("comment"===e.type)return this.current++,e.comment=e.comment||"",'h("!", {}, ["'+e.comment+'"])';if("if"===e.type)switch(this.current++,e.mark){case"if":return"(function() { if ("+e.expr+") { return ";case"elseif":return"} else if ("+e.expr+") { return ";case"else":return"} else { return ";case"/if":return"} })()"}if("list"===e.type)switch(this.current++,e.mark){case"list":return"(function() { return "+e.data+".map(function(_d, _i) {var "+e.val+" = _d; var "+e.index+" = _i; return ";case"/list":return"}) })()"}if("expr"===e.type)return this.current++,"(function() { return "+e.expr+" })()";if("text"===e.type)return this.current++,e.text;if("element"===e.type){if(void 0!==e.unary){if(!e.unary){var n={type:e.tag,props:this.handleProps(e.attrs),children:[]};for(e=t[++this.current];"element"!==e.type||void 0!==e.unary;){var r=this.walk();"text"===e.type&&e.text&&e.text.trim()&&(r='"'+r.trim()+'"'),(!e.mark&&r&&r.trim()||e.mark&&("/if"===e.mark||"/list"===e.mark))&&(r+=","),e.mark||(r=r.trim()),r=r.replace(/return[\s]*\,/g,"return "),n.children.push(r),e=t[this.current]}var i=n.children.join("");return","===i[i.length-1]&&(i=i.substring(0,i.length-1)),this.current++,'h("'+n.type+'", '+n.props+", ["+i+"])"}return this.current++,'h("'+e.tag+'", '+this.handleProps(e.attrs)+", [])"}return this.current++,""}}},{key:"handleProps",value:function(t){if(!t||!t.length)return"{}";var e="{";return t.map(function(t){var n=void 0;(0,u.isEventProp)(t.name)?(n=a.test(t.value)?"function($event) { return "+t.value+"; }":"(function() { return "+t.value+".bind(context); })()",e+='"'+t.name+'":'+n+","):(0,u.isMfProp)(t.name)?(n="(function() { return "+t.value+" })()",e+='"'+t.name+'":'+n+","):e+='"'+t.name+'":"'+t.value+'",'}),e=e.substring(0,e.length-1),e+="}"}}]),t}();e.default=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){for(var e={},n=t.split(","),r=0;r<n.length;r++)e[n[r]]=!0;return e}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=/^<([-A-Za-z0-9_]+)((?:\s+[-\w]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,u=/^<\/([-A-Za-z0-9_]+)[^>]*>/,a=/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,l=i("area,base,br,col,colgroup,command,embed,hr,img,input,keygen,link,meta,param,source,track,wbr"),c=i("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),f=function(){function t(e){r(this,t),this.input=(e||"").trim(),this.stack=[],this.tokens=[],this.root=!1,this.last=function(){return this.stack[this.stack.length-1]}}return s(t,[{key:"init",value:function(){for(var t=this.input,e=t,n=void 0,r=void 0;t;){var i=t.charAt(0);if("<"===i)0===t.indexOf("\x3c!--")?(r=t.indexOf("--\x3e"))>=0&&(this._handleComment(t.substring(4,r)),t=t.substring(r+3)):0===t.indexOf("</")?(n=t.match(u))&&(t=t.substring(n[0].length),n[0].replace(u,this._handleEndTag.bind(this))):0===t.indexOf("<")&&(n=t.match(o))&&(t=t.substring(n[0].length),n[0].replace(o,this._handleElementStart.bind(this)));else if("{"===i)0===t.indexOf("{if")?(r=t.indexOf("}"))>=0&&(this._handleIfStart(t.substring(3,r),"if"),t=t.substring(r+1)):0===t.indexOf("{/if}")?(this._handleEndTag("","if"),t=t.substring(5)):0===t.indexOf("{elseif")?(r=t.indexOf("}"))>=0&&(this._handleIfStart(t.substring(7,r),"elseif"),t=t.substring(r+1)):0===t.indexOf("{else}")?(this._handleIfStart("","else"),t=t.substring(6)):0===t.indexOf("{list")?(r=t.indexOf("}"))>=0&&(this._handleListStart(t.substring(5,r),"list"),t=t.substring(r+1)):0===t.indexOf("{/list}")?(this._handleEndTag("","list"),t=t.substring(7)):0===t.indexOf("{")&&(r=t.indexOf("}"))>=0&&(this._handleExpr(t.substring(1,r)),t=t.substring(r+1));else{var s=t.indexOf("<"),a=t.indexOf("{");s>=0&&a>=0?r=s<a?s:a:-1===s&&-1===!a?r=-1:s>=0?r=s:a>=0&&(r=a);var l=r<0?t:t.substring(0,r);t=r<0?"":t.substring(r),this._handleText(l)}if(e==t)throw Error("parse template error");e=t}return this.tokens}},{key:"_handleComment",value:function(t){this.tokens.push({type:"comment",comment:t})}},{key:"_handleElementStart",value:function(t,e,n,r){if(e=e.toLowerCase(),l[e]&&this.last()===e&&this._handleEndTag("",e),r=l[e]||!!r)if(this.root){if(!this.stack.length)throw new Error("template must have only one root element.")}else this.root=!0;else if(this.root){if(!this.stack.length)throw new Error("template must have only one root element.");this.stack.push(e)}else this.stack.push(e),this.root=!0;var i=[];n.replace(a,function(t,e){var n=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:c[e]?e:"";"class"===e&&(e="className"),i.push({name:e,value:n})}),this.tokens.push({type:"element",tag:e,attrs:i,unary:r})}},{key:"_handleEndTag",value:function(t,e){var n=void 0;if(e)for(n=this.stack.length-1;n>=0&&this.stack[n]!==e;n--);else n=0;if(n>=0){for(var r=this.stack.length-1;r>=n;r--)"if"===e?this.tokens.push({type:"if",mark:"/if"}):"list"===e?this.tokens.push({type:"list",mark:"/list"}):this.tokens.push({type:"element",tag:e});this.stack.length=n}}},{key:"_handleIfStart",value:function(t,e){if(t=t.trim(),"if"===e&&this.stack.push("if"),("elseif"===e||"else"===e)&&"if"!==this.last())throw Error("there has unclosed if");this.tokens.push({type:"if",expr:t,mark:e})}},{key:"_handleListStart",value:function(t){t=t.trim();var e=t.split("as");e&&(e[0]&&(e[0]=e[0].trim()),e[1]&&(e[1]=e[1].trim()),this.tokens.push({type:"list",data:e[0]?e[0]:null,val:e[1]?e[1]:null,index:e[1]?e[1]+"_index":null,mark:"list"}),this.stack.push("list"))}},{key:"_handleText",value:function(t){this.tokens.push({type:"text",text:t})}},{key:"_handleExpr",value:function(t){t=t.trim(),this.tokens.push({type:"expr",expr:t})}}]),t}();e.default=f},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[];return n.map(function(t){Array.isArray(t)?t.map(function(t){(0,i.isEmpty)(t)||r.push(t)}):(0,i.isEmpty)(t)||r.push(t)}),{type:t,props:e,children:r}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(0)},function(t,e,n){"use strict";function r(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(n)if(e){if(s(e,n))t.replaceChild(i(e),t.childNodes[o]);else if(e.type){(0,u.updateProps)(t.childNodes[o],e.props,n.props);for(var l=e.children.length,c=n.children.length,f=t.childNodes[o],h=0;h<l||h<c;h++)r(f,e.children[h],n.children[h],h);a.length&&(a.forEach(function(t){f.removeChild(t)}),a=[])}}else a.push(t.childNodes[o]);else t.appendChild(i(e))}function i(t){if("string"==typeof t||"number"==typeof t)return document.createTextNode(t+"");if("!"===t.type)return document.createComment(t.children[0]);var e=document.createElement(t.type);return(0,u.setProps)(e,t.props),t.children.map(i).forEach(e.appendChild.bind(e)),e}function s(t,e){return(void 0===t?"undefined":o(t))!==(void 0===e?"undefined":o(e))||"string"==typeof t&&t!==e||t.type!==e.type}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=r;var u=n(10),a=[]},function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n,e);Object.keys(r).forEach(function(r){s(t,r,e[r],n[r])})}function i(t,e){Object.keys(e).forEach(function(n){o(t,n,e[n])})}function s(t,e,n,r){if((0,a.isEmpty)(n))u(t,e,r);else if((0,a.isEmpty)(r)||n!==r){if(n&&r&&"function"==typeof n&&"function"==typeof r)return;o(t,e,n)}}function o(t,e,n){(0,c.isCustomProp)(e)?(0,c.setCustomProp)(t,e,n):(0,l.setProp)(t,e,n)}function u(t,e,n){(0,c.isCustomProp)(e)?(0,c.removeCustomProp)(t,e,n):(0,l.removeProp)(t,e,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.updateProps=r,e.setProps=i;var a=n(0),l=n(2),c=n(1)}]).default});