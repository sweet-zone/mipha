!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Mipha=e():t.Mipha=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){"use strict";function r(t){return"function"==typeof t}function i(t){return void 0===t||null===t}function o(t){return t.replace(f,function(t,e){return e.toUpperCase()})}function s(t){return(""+t).replace(h,function(t,e,n,r){var i;return i=n?parseInt(n.slice(1),10):e?parseInt(e.slice(2),16):c.default[r],String.fromCharCode(i)})}function u(t,e){var n={};for(var r in t)n[r]=t[r];for(var i in e)if("object"===a(e[i])){n[i]||(n[i]={});for(var o in e[i])n[i][o]=e[i][o]}else n[i]=e[i];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.noop=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isFunction=r,e.isEmpty=i,e.camelCase=o,e.convertEntity=s,e.merge=u;var l=n(6),c=function(t){return t&&t.__esModule?t:{default:t}}(l),f=(e.noop=function(){},/-([a-z])/g),h=new RegExp("&(?:(#x[0-9a-fA-F]+)|(#[0-9]+)|("+Object.keys(c.default).join("|")+"));","gi")},function(t,e,n){"use strict";function r(t){return i(t)||o(t)}function i(t){return/^on-/.test(t)}function o(t){return/^mf-/.test(t)}function s(t){return t.slice(3).toLowerCase()}function u(t,e,n){i(e)?t.addEventListener(s(e),n,!1):o(e)&&(e=s(e),"class"===e?Object.keys(n).forEach(function(e){n[e]?t.classList.add(e):t.classList.remove(e)}):"style"===e?Object.keys(n).forEach(function(e){var r=(0,l.camelCase)(e);t.style[r]=n[e]}):"show"===e?t.style.display=!0==!!n?"":"none":"html"===e?t.innerHTML=n:"model"===e||(0,c.setProp)(t,e,n))}function a(t,e,n){i(e)&&t.removeEventListener(e,n,!1)}Object.defineProperty(e,"__esModule",{value:!0}),e.isCustomProp=r,e.isEventProp=i,e.isMfProp=o,e.setCustomProp=u,e.removeCustomProp=a;var l=n(0),c=n(2)},function(t,e,n){"use strict";function r(t,e,n){"className"===e?t.setAttribute("class",n):"htmlFor"===e?t.setAttribute("for",n):"boolean"==typeof n?o(t,e,n):t.setAttribute(e,n)}function i(t,e,n){"className"===e?t.removeAttribute("class"):"htmlFor"===e?t.removeAttribute("for",n):"boolean"==typeof n?s(t,e):t.removeAttribute(e)}function o(t,e,n){n?(t.setAttribute(e,n),t[e]=!0):t[e]=!1}function s(t,e){t.removeAttribute(e),t[e]=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.setProp=r,e.removeProp=i,e.setBooleanProp=o,e.removeBooleanProp=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=i.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._init(t)}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=i;var s=n(5),u=n(0),a=n(7),l=r(a),c=n(9),f=r(c),h=n(10),p=r(h),d=i.prototype;d.setState=function(t){this.options.state=Object.assign({},this.options.state,t),this._mountState2this(this.options),this.vnode=this._render(this,f.default),this.outers&&this.outers.length?this.outers.forEach(function(t){t._insertVNodeFromComponents(),t.isMounted&&t.$mount(t.$parent)}):this.isMounted&&this.$mount(this.$parent)},d.$mount=function(t){t=t||document.body,(0,p.default)(t,this.vnode,this.oldVNode),this.oldVNode=this.vnode,this.isMounted||(this.mounted(),this.isMounted=!0,this.$parent=t)},d._init=function(t){var e=this,n=(t.template||"").trim();t.state=t.state||{},t.methods=t.methods||{},this.options=t,this._render=new l.default(n).parse(),this.oldVNode=null,this.vnode=null,this.isMounted=!1,this.components={},this.outers=[],s.LIFECYCLE_HOOKS.map(function(n){e[n]=t[n]&&(0,u.isFunction)(t[n])?t[n]:u.noop}),this._mount2this(t),this.vnode=this._render(this,f.default),this._insertVNodeFromComponents(),this.created()},d._mount2this=function(t){this._mountState2this(t);for(var e in t.methods)this[e]=t.methods[e]},d._mountState2this=function(t){for(var e in t.state)this[e]=t.state[e]},d._insertVNodeFromComponents=function(){function t(e,n,r,i){return e.map(function(e){var o=r.indexOf(e.type);if(-1===o)return e;var s=i.components[r[o]];return s||(s=new n[r[o]],i.components[r[o]]=s,-1===s.outers.indexOf(i)&&s.outers.push(i)),e.children&&e.children.length?t(e.chilren,n,r,i):s.vnode})}var e=this.options.components;if("object"===(void 0===e?"undefined":o(e))&&Object.keys(e).length){var n=Object.keys(e);this.originalVNode=this._render(this,f.default),this.originalVNode.children&&this.originalVNode.children.length&&(this.originalVNode.children=t(this.originalVNode.children,e,n,this),this.vnode=this.originalVNode)}},d._destroy=function(){},i.extend=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=(0,u.merge)(n.options,t),this._init(t)};return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.options=Object.assign({},e.options,t),n.super=e,n.extend=e.extend,n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.LIFECYCLE_HOOKS=["created","mounted","destroyed"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,fnof:402,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,bull:8226,hellip:8230,prime:8242,Prime:8243,oline:8254,frasl:8260,weierp:8472,image:8465,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,circ:710,tilde:732,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,permil:8240,lsaquo:8249,rsaquo:8250,euro:8364}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(8),s=function(t){return t&&t.__esModule?t:{default:t}}(o),u=n(1),a=/\(.*\)$/,l=function(){function t(e){r(this,t),this.tokens=new s.default(e).init(),this.current=0}return i(t,[{key:"parse",value:function(){for(var t=this.tokens,e="";this.current<t.length;)e+=this.walk();return e=e.replace(/,[\s]*\}/g," }"),e&&e.length||(e='h("!",{},[""])'),new Function("context","h","with(context) { return "+e+" }")}},{key:"walk",value:function(){var t=this.tokens,e=t[this.current];if("comment"===e.type)return this.current++,e.comment=e.comment||"",'h("!", {}, ["'+e.comment+'"])';if("if"===e.type)switch(this.current++,e.mark){case"if":return"(function() { if ("+e.expr+") { return ";case"elseif":return"} else if ("+e.expr+") { return ";case"else":return"} else { return ";case"/if":return"} })()"}if("list"===e.type)switch(this.current++,e.mark){case"list":return"(function() { return "+e.data+".map(function(_d, _i) {var "+e.val+" = _d; var "+e.index+" = _i; return ";case"/list":return"}) })()"}if("expr"===e.type)return this.current++,"(function() { return "+e.expr+" })()";if("text"===e.type)return this.current++,e.text;if("element"===e.type){if(void 0!==e.unary){if(!e.unary){var n={type:e.tag,props:this.handleProps(e.attrs),children:[]};for(e=t[++this.current];"element"!==e.type||void 0!==e.unary;){var r=this.walk();"text"===e.type&&e.text&&e.text.trim()&&(r='"'+r.trim()+'"'),(!e.mark&&r&&r.trim()||e.mark&&("/if"===e.mark||"/list"===e.mark))&&(r+=","),e.mark||(r=r.trim()),r=r.replace(/return[\s]*,/g,"return "),n.children.push(r),e=t[this.current]}var i=n.children.join("");return","===i[i.length-1]&&(i=i.substring(0,i.length-1)),this.current++,'h("'+n.type+'", '+n.props+", ["+i+"])"}return this.current++,'h("'+e.tag+'", '+this.handleProps(e.attrs)+", [])"}return this.current++,""}}},{key:"handleProps",value:function(t){if(!t||!t.length)return"{}";var e="{";return t.map(function(t){var n=void 0;(0,u.isEventProp)(t.name)?(n=a.test(t.value)?"function($event) { return "+t.value+"; }":"(function() { return "+t.value+".bind(context); })()",e+='"'+t.name+'":'+n+","):(0,u.isMfProp)(t.name)?(n="(function() { return "+t.value+" })()",e+='"'+t.name+'":'+n+","):e+='"'+t.name+'":"'+t.value+'",'}),e=e.substring(0,e.length-1),e+="}"}}]),t}();e.default=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){for(var e={},n=t.split(","),r=0;r<n.length;r++)e[n[r]]=!0;return e}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=/^<([-A-Za-z0-9_]+)((?:\s+[-\w]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,u=/^<\/([-A-Za-z0-9_]+)[^>]*>/,a=/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,l=i("area,base,br,col,colgroup,command,embed,hr,img,input,keygen,link,meta,param,source,track,wbr"),c=i("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),f=function(){function t(e){r(this,t),this.input=(e||"").trim(),this.stack=[],this.tokens=[],this.root=!1,this.last=function(){return this.stack[this.stack.length-1]}}return o(t,[{key:"init",value:function(){for(var t=this.input,e=t,n=void 0,r=void 0;t;){var i=t.charAt(0);if("<"===i)0===t.indexOf("\x3c!--")?(r=t.indexOf("--\x3e"))>=0&&(this._handleComment(t.substring(4,r)),t=t.substring(r+3)):0===t.indexOf("</")?(n=t.match(u))&&(t=t.substring(n[0].length),n[0].replace(u,this._handleEndTag.bind(this))):0===t.indexOf("<")&&(n=t.match(s))&&(t=t.substring(n[0].length),n[0].replace(s,this._handleElementStart.bind(this)));else if("{"===i)0===t.indexOf("{if")?(r=t.indexOf("}"))>=0&&(this._handleIfStart(t.substring(3,r),"if"),t=t.substring(r+1)):0===t.indexOf("{/if}")?(this._handleEndTag("","if"),t=t.substring(5)):0===t.indexOf("{elseif")?(r=t.indexOf("}"))>=0&&(this._handleIfStart(t.substring(7,r),"elseif"),t=t.substring(r+1)):0===t.indexOf("{else}")?(this._handleIfStart("","else"),t=t.substring(6)):0===t.indexOf("{list")?(r=t.indexOf("}"))>=0&&(this._handleListStart(t.substring(5,r),"list"),t=t.substring(r+1)):0===t.indexOf("{/list}")?(this._handleEndTag("","list"),t=t.substring(7)):0===t.indexOf("{")&&(r=t.indexOf("}"))>=0&&(this._handleExpr(t.substring(1,r)),t=t.substring(r+1));else{var o=t.indexOf("<"),a=t.indexOf("{");o>=0&&a>=0?r=o<a?o:a:-1===o&&-1===!a?r=-1:o>=0?r=o:a>=0&&(r=a);var l=r<0?t:t.substring(0,r);t=r<0?"":t.substring(r),this._handleText(l)}if(e==t)throw Error("parse template error");e=t}return this.tokens}},{key:"_handleComment",value:function(t){this.tokens.push({type:"comment",comment:t})}},{key:"_handleElementStart",value:function(t,e,n,r){if(e=e.toLowerCase(),l[e]&&this.last()===e&&this._handleEndTag("",e),r=l[e]||!!r)if(this.root){if(!this.stack.length)throw new Error("template must have only one root element.")}else this.root=!0;else if(this.root){if(!this.stack.length)throw new Error("template must have only one root element.");this.stack.push(e)}else this.stack.push(e),this.root=!0;var i=[];n.replace(a,function(t,e){var n=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:c[e]?e:"";"class"===e&&(e="className"),"for"===e&&(e="htmlFor"),i.push({name:e,value:n})}),this.tokens.push({type:"element",tag:e,attrs:i,unary:r})}},{key:"_handleEndTag",value:function(t,e){var n=void 0;if(e)for(n=this.stack.length-1;n>=0&&this.stack[n]!==e;n--);else n=0;if(n>=0){for(var r=this.stack.length-1;r>=n;r--)"if"===e?this.tokens.push({type:"if",mark:"/if"}):"list"===e?this.tokens.push({type:"list",mark:"/list"}):this.tokens.push({type:"element",tag:e});this.stack.length=n}}},{key:"_handleIfStart",value:function(t,e){if(t=t.trim(),"if"===e&&this.stack.push("if"),("elseif"===e||"else"===e)&&"if"!==this.last())throw Error("there has unclosed if");this.tokens.push({type:"if",expr:t,mark:e})}},{key:"_handleListStart",value:function(t){t=t.trim();var e=t.split("as");e&&(e[0]&&(e[0]=e[0].trim()),e[1]&&(e[1]=e[1].trim()),this.tokens.push({type:"list",data:e[0]?e[0]:null,val:e[1]?e[1]:null,index:e[1]?e[1]+"_index":null,mark:"list"}),this.stack.push("list"))}},{key:"_handleText",value:function(t){this.tokens.push({type:"text",text:t})}},{key:"_handleExpr",value:function(t){t=t.trim(),this.tokens.push({type:"expr",expr:t})}}]),t}();e.default=f},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[];return n.map(function(t){Array.isArray(t)?t.map(function(t){(0,i.isEmpty)(t)||r.push(t)}):(0,i.isEmpty)(t)||r.push(t)}),{type:t,props:e,children:r}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(0)},function(t,e,n){"use strict";function r(t,e,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(n)if(e){if(o(e,n))t.replaceChild(i(e),t.childNodes[s]);else if(e.type){(0,a.updateProps)(t.childNodes[s],e.props,n.props);for(var u=e.children.length,c=n.children.length,f=t.childNodes[s],h=0;h<u||h<c;h++)r(f,e.children[h],n.children[h],h);l.length&&(l.forEach(function(t){f.removeChild(t)}),l=[])}}else l.push(t.childNodes[s]);else t.appendChild(i(e))}function i(t){if("string"==typeof t||"number"==typeof t)return t=(0,u.convertEntity)(t),document.createTextNode(t);if("!"===t.type)return document.createComment(t.children[0]);var e=document.createElement(t.type);return(0,a.setProps)(e,t.props),t.children.map(i).forEach(e.appendChild.bind(e)),e}function o(t,e){return(void 0===t?"undefined":s(t))!==(void 0===e?"undefined":s(e))||"string"==typeof t&&t!==e||t.type!==e.type}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=r;var u=n(0),a=n(11),l=[]},function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n,e);Object.keys(r).forEach(function(r){o(t,r,e[r],n[r])})}function i(t,e){Object.keys(e).forEach(function(n){s(t,n,e[n])})}function o(t,e,n,r){if((0,a.isEmpty)(n))u(t,e,r);else if((0,a.isEmpty)(r)||n!==r){if(n&&r&&"function"==typeof n&&"function"==typeof r)return;s(t,e,n)}}function s(t,e,n){(0,c.isCustomProp)(e)?(0,c.setCustomProp)(t,e,n):(0,l.setProp)(t,e,n)}function u(t,e,n){(0,c.isCustomProp)(e)?(0,c.removeCustomProp)(t,e,n):(0,l.removeProp)(t,e,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.updateProps=r,e.setProps=i;var a=n(0),l=n(2),c=n(1)}]).default});